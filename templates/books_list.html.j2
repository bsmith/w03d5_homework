{% extends "base.html.j2" %}
{% import "macros.html.j2" as macros %}
{% block content %}

<main>

    <ul>
    {% for book in books_list %}
        <li class="book">
            <span class="title">
                <a href="{{ url_for('books.books_single', index=loop.index0) }}">{{ book.title }}</a>
            </span>
            by <span class="author">{{ book.author }}</span> â€”
            <span class="genre">{{ book.genre }}</span>
            {% if book.checked_out %}
            <span class="checked-out">checked out</span>
            {% endif %}
            {{ macros.checkoutin_button(book, loop.index0, "inline") }}
        </li>
    {% endfor %}
    </ul>

    <form class="create" action="{{ url_for('books.books_create', index=index) }}"
            method="POST">
        <h3>Create book</h3>
        <div>
            <label for="book_title">Title:</label>
            <input type="text" id="book_title" name="title">
        </div>
        <div>
            <label for="book_author">Author:</label>
            <input type="text" id="book_author" name="author">
        </div>
        <div>
            <label for="book_genre">Genre:</label>
            <input type="text" id="book_genre" name="genre">
        </div>

        <button type="submit">&#x2705; Create Book</button>
    </form>

</main>

{% endblock %}